# ============================================================================
# LOCAL STAGING ENVIRONMENT (Docker Compose)
# ============================================================================
# Use this for local staging deployment with Docker
# Copy to .env.staging when deploying locally
# ============================================================================

# Application Config
NODE_ENV=staging
PORT=3002
HOST=0.0.0.0
API_VERSION=v1
APP_NAME=Episode Metadata API (Local Staging)
ALLOWED_ORIGINS=http://localhost:5174,http://localhost:5173,http://localhost:3002

# Database Config - Local PostgreSQL in Docker
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/episode_metadata
DB_HOST=postgres
DB_PORT=5432
DB_NAME=episode_metadata
DB_USER=postgres
DB_PASSWORD=postgres
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_TIMEOUT=30000
DATABASE_SSL=false

# AWS Config - Local/Dev
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=637423256673
# For local: use mock or dev credentials
AWS_ACCESS_KEY_ID=local-dev-key
AWS_SECRET_ACCESS_KEY=local-dev-secret

# S3 Buckets - Staging (can be real or mock)
AWS_S3_BUCKET=episode-metadata-storage-staging
S3_PRIMARY_BUCKET=episode-metadata-storage-staging
S3_THUMBNAIL_BUCKET=episode-metadata-thumbnails-staging
MAX_FILE_UPLOAD_SIZE_MB=500

# Auth - Can use mock for local staging
COGNITO_USER_POOL_ID=local-pool
COGNITO_CLIENT_ID=local-client
COGNITO_CLIENT_SECRET=local-secret
COGNITO_REGION=us-east-1

# JWT Tokens - Local secrets
JWT_SECRET=local-staging-jwt-secret-key-change-in-production
JWT_EXPIRATION=24h
REFRESH_TOKEN_SECRET=local-staging-refresh-secret-key-change-in-production
REFRESH_TOKEN_EXPIRATION=7d

# SQS Queue - Optional for local
THUMBNAIL_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/637423256673/episode-metadata-thumbnail-queue-staging
SQS_REGION=us-east-1

# Redis - Local Redis in Docker
REDIS_URL=redis://redis:6379
REDIS_DB=0

# OpenSearch - Optional for local
OPENSEARCH_HOST=localhost
OPENSEARCH_PORT=9200
OPENSEARCH_PROTOCOL=http
OPENSEARCH_NODE=http://localhost:9200

# Logging
LOG_LEVEL=debug
CLOUDWATCH_LOG_GROUP=/ecs/episode-metadata-api-staging
ENABLE_REQUEST_LOGGING=true
ENABLE_RESPONSE_LOGGING=false

# Feature Flags - Simplified for local
ENABLE_AUTH=false
ENABLE_RATE_LIMITING=false
ENABLE_CORS=true
ENABLE_HELMET=true
MOCK_S3=true
MOCK_COGNITO=true

# Email Configuration
EMAIL_SERVICE=sendgrid
SENDGRID_API_KEY=local-sendgrid-key
NOTIFICATION_EMAIL=dev@primestudios.dev

# Monitoring & Alerts - Disabled for local
DATADOG_API_KEY=
SENTRY_DSN=

# Background Removal APIs - Optional
RUNWAY_ML_API_KEY=
REMOVEBG_API_KEY=

# Debug & Development
DEBUG_SQL=true
DEBUG_AUTH=true
