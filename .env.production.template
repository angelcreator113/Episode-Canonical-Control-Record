# ============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION - TEMPLATE
# ============================================================================
# CRITICAL: Configure these values before deploying to production!
# NEVER commit actual secrets - use AWS Secrets Manager or equivalent
# Copy to .env.production and fill in actual values
# Deploy using: ./deploy.sh production deploy
# ============================================================================

# Application Config
NODE_ENV=production
PORT=3002
HOST=0.0.0.0
API_VERSION=v1
APP_NAME=Episode Metadata API
ALLOWED_ORIGINS=https://www.primepisodes.com,https://primepisodes.com

# Database Config - AWS RDS PostgreSQL - PRODUCTION INSTANCE
# CRITICAL: Use dedicated production RDS instance
# Get credentials from AWS Secrets Manager
DATABASE_URL=postgresql://${DB_USER_PROD}:${DB_PASSWORD_PROD}@${DB_HOST_PROD}:5432/episode_metadata?sslmode=require
DB_HOST=${DB_HOST_PROD}
DB_PORT=5432
DB_NAME=episode_metadata
DB_USER=${DB_USER_PROD}
DB_PASSWORD=${DB_PASSWORD_PROD}
DATABASE_POOL_MIN=10
DATABASE_POOL_MAX=30
DATABASE_TIMEOUT=30000
DATABASE_SSL=true

# AWS Config - Use IAM Role in ECS/Lambda
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=637423256673
# AWS credentials loaded from IAM role - NEVER put keys here

# S3 Buckets - Production buckets
AWS_S3_BUCKET=episode-metadata-storage-prod
S3_PRIMARY_BUCKET=episode-metadata-storage-prod
S3_THUMBNAIL_BUCKET=episode-metadata-thumbnails-prod
MAX_FILE_UPLOAD_SIZE_MB=500

# Cognito Auth - Production Pool
# Create production Cognito pool and update these IDs
COGNITO_USER_POOL_ID=${COGNITO_POOL_ID_PROD}
COGNITO_CLIENT_ID=${COGNITO_CLIENT_ID_PROD}
COGNITO_CLIENT_SECRET=${COGNITO_CLIENT_SECRET_PROD}
COGNITO_REGION=us-east-1

# JWT Tokens - GENERATE NEW SECRETS FOR PRODUCTION
# Command: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=${JWT_SECRET_PROD}
JWT_EXPIRATION=24h
REFRESH_TOKEN_SECRET=${REFRESH_TOKEN_SECRET_PROD}
REFRESH_TOKEN_EXPIRATION=7d

# SQS Queue - Production
THUMBNAIL_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/637423256673/episode-metadata-thumbnail-queue-prod
SQS_REGION=us-east-1

# Redis - Production Redis (optional for caching/rate limiting)
REDIS_URL=${REDIS_URL_PROD}
REDIS_DB=0

# OpenSearch - Production cluster
OPENSEARCH_HOST=${OPENSEARCH_HOST_PROD}
OPENSEARCH_PORT=443
OPENSEARCH_PROTOCOL=https
OPENSEARCH_NODE=https://${OPENSEARCH_HOST_PROD}:443

# Logging
LOG_LEVEL=info
CLOUDWATCH_LOG_GROUP=/ecs/episode-metadata-api-prod
ENABLE_REQUEST_LOGGING=false
ENABLE_RESPONSE_LOGGING=false

# Feature Flags - Production should have auth and rate limiting enabled
ENABLE_AUTH=true
ENABLE_RATE_LIMITING=true
ENABLE_CORS=true
ENABLE_HELMET=true
MOCK_S3=false
MOCK_COGNITO=false

# Email Configuration - Production SendGrid
EMAIL_SERVICE=sendgrid
SENDGRID_API_KEY=${SENDGRID_API_KEY_PROD}
NOTIFICATION_EMAIL=alerts@primestudios.dev

# Monitoring & Alerts - Production monitoring
DATADOG_API_KEY=${DATADOG_API_KEY_PROD}
SENTRY_DSN=${SENTRY_DSN_PROD}
SLACK_WEBHOOK=${SLACK_WEBHOOK_PROD}

# Debug & Development - ALWAYS disabled in production
DEBUG_SQL=false
DEBUG_AUTH=false
