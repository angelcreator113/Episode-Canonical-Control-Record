# ============================================================================
# STAGING ENVIRONMENT CONFIGURATION
# ============================================================================
# Staging environment with AWS RDS PostgreSQL, real S3, and Cognito
# Deploy using: ./deploy.sh staging deploy
# ============================================================================

# Application Config
NODE_ENV=staging
PORT=3002
HOST=0.0.0.0
API_VERSION=v1
APP_NAME=Episode Metadata API (Staging)
ALLOWED_ORIGINS=https://staging.episodes.primestudios.dev,http://localhost:5173

# Database Config - AWS RDS Staging
# Get these from AWS Secrets Manager or .env.staging.secrets
DATABASE_URL=postgresql://postgres:Ayanna123!!@episode-control-staging.csnow208wqtv.us-east-1.rds.amazonaws.com:5432/episode_metadata
DB_HOST=episode-control-staging.csnow208wqtv.us-east-1.rds.amazonaws.com
DB_PORT=5432
DB_NAME=episode_metadata
DB_USER=postgres
DB_PASSWORD=Ayanna123!!
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20
DATABASE_TIMEOUT=30000
DATABASE_SSL=true

# AWS Config - Use IAM Role in ECS/Lambda
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=637423256673
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID_STAGING}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY_STAGING}
# AWS credentials loaded from IAM role or ~/.aws/credentials

# S3 Buckets - Staging buckets
AWS_S3_BUCKET=episode-metadata-storage-staging
S3_PRIMARY_BUCKET=episode-metadata-storage-staging
S3_THUMBNAIL_BUCKET=episode-metadata-thumbnails-staging
MAX_FILE_UPLOAD_SIZE_MB=500

# Cognito Auth - Staging Pool
COGNITO_USER_POOL_ID=${COGNITO_POOL_ID_STAGING}
COGNITO_CLIENT_ID=${COGNITO_CLIENT_ID_STAGING}
COGNITO_CLIENT_SECRET=${COGNITO_CLIENT_SECRET_STAGING}
COGNITO_REGION=us-east-1

# JWT Tokens
JWT_SECRET=${JWT_SECRET_STAGING}
JWT_EXPIRATION=24h
REFRESH_TOKEN_SECRET=${REFRESH_TOKEN_SECRET_STAGING}
REFRESH_TOKEN_EXPIRATION=7d

# SQS Queue - Staging
THUMBNAIL_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/637423256673/episode-metadata-thumbnail-queue-staging
SQS_REGION=us-east-1

# Redis - Production Redis (optional)
REDIS_URL=${REDIS_URL_STAGING}
REDIS_DB=0

# OpenSearch - Staging cluster
OPENSEARCH_HOST=${OPENSEARCH_HOST_STAGING}
OPENSEARCH_PORT=443
OPENSEARCH_PROTOCOL=https
OPENSEARCH_NODE=https://${OPENSEARCH_HOST_STAGING}:443

# Logging
LOG_LEVEL=info
CLOUDWATCH_LOG_GROUP=/ecs/episode-metadata-api-staging
ENABLE_REQUEST_LOGGING=false
ENABLE_RESPONSE_LOGGING=false

# Feature Flags
ENABLE_AUTH=true
ENABLE_RATE_LIMITING=true
ENABLE_CORS=true
ENABLE_HELMET=true
MOCK_S3=false
MOCK_COGNITO=false

# Email Configuration
EMAIL_SERVICE=sendgrid
SENDGRID_API_KEY=${SENDGRID_API_KEY_STAGING}
NOTIFICATION_EMAIL=dev@primestudios.dev

# Monitoring & Alerts
DATADOG_API_KEY=${DATADOG_API_KEY_STAGING}
SENTRY_DSN=${SENTRY_DSN_STAGING}

# Background Removal APIs
RUNWAY_ML_API_KEY=${RUNWAY_ML_API_KEY}
REMOVEBG_API_KEY=${REMOVEBG_API_KEY}

# Debug & Development
DEBUG_SQL=false
DEBUG_AUTH=false
